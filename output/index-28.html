<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="es">
    <head>
    <meta charset="utf-8">
    <meta name="description" content="el blog de Juanjo Conti - abstracto, lúdico y digital">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>En borrador permanente (publicaciones antiguas, página 28) | En borrador permanente</title>

    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

    
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

      <link rel="canonical" href="http://www.juanjoconti.com.ar/index-28.html">



        <link rel="prev" href="index-29.html" type="text/html">
        <link rel="next" href="index-27.html" type="text/html">

    
        <!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->

    




</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://www.juanjoconti.com.ar/">

                <span id="blog-title">En borrador permanente</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>

                
            </li>
</ul>

            <ul class="nav navbar-nav navbar-right">
                
                
                    
                
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav>

<!-- End of Menubar -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<div class="postindex">
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/25/la-historia-de-python-todo-de-primera-clase.html" class="u-url">La historia de Python: Todo de primera clase</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/25/la-historia-de-python-todo-de-primera-clase.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-25T09:00:52+00:00" title="2009-04-25 09:00">2009-04-25 09:00</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/25/la-historia-de-python-todo-de-primera-clase.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/25/la-historia-de-python-todo-de-primera-clase.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>El siguiente texto es una traducción del artículo First-class Everything de Guido van Rossum publicado en <a href="http://python-history.blogspot.com/" target="_blank">http://python-history.blogspot.com/</a>.</em>
<!--more-->

<h3>Todo de primera clase</h3>

<p>Uno de mis objetivos para Python era hacerlo de tal forma que todos los objetos sean de "primera clase". Con esto me refiero a que quería que todos los objetos puedan ser nombrados en el lenguaje (por ejemplo, enteros, strings, funciones, clases, módulos, métodos, etc.) para tener igual status. Entonces pueden ser asignados a variables, ubicados en listas, almacenados en diccionarios, pasados como argumentos y más.</p>
<p>La implementación interna de Python hizo que esto sea fácil de hacer. Todos los objetos de Python estaban basados en una estructura de datos de C común que se usaba en todos los lugares del intérprete. Variables, listas, funciones y todo lo demás usaba variaciones de esta estructura de datos; directamente no importaba si la estructura representaba un objeto simple como un entero o algo más complicado como una clase.</p>
<p>Aunque la idea de tener "todo de primera clase" es conceptualmente simple, había aún un aspecto de las clases que necesitaba resolver; el problema de hacer que los métodos sean objetos de primera clase.</p>
<p>Consideremos esta clase simple en Python (copiada de la entrada de la semana pasada):</p>
<pre>class A:

    def __init__(self,x):

        self.x = x

    def spam(self,y):

        print self.x, y</pre>

<p>Si los métodos van a ser objetos de primera clase, entonces pueden ser asignados a otras variables y usados como cualquier otro objeto en Python. Por ejemplo, alguien podría escribir una sentencia en Python como "s = A.spam". En este caso la variable "s" referencia un método de una clase, que en realidad es solo una función. Sin embargo, un método no es exactamente igual a una función. En concreto, se supone que el primer argumento de un método es una instancia de la clase en la que el método fue definido.</p>
<p>Para tratar esto cree un tipo de objeto invocable (callable) conocido como "unbound method". Un unbound method era en realidad un wrapper delgado alrededor de un objeto función que implementaba un método, pero forzaba la restricción de que el primer argumento tenía que ser una instancia de la clase en la cual el método fue definido. Así, si alguien quería llamar al unbound method "s" como una función, tendrían que pasar una instancia de la clase "A" como primer argumento. Por ejemplo, "a = A(); s(a)".(*)</p>
<p>Un problema relacionado ocurre si alguien escribe una sentencia Python que refiere al método en una instancia específica de un objeto. Por ejemplo, alguien puede crear una instancia usando "a = A()" y luego escribir una sentencia como "s = a.spam". Aquí la variable "s" nuevamente referencia al método de una clase, pero la referencia a ese método se obtuvo a través de la instancia "a". Para manejar esta situación se usa un objeto invocable diferente llamado "bound method". Este objeto es también un wrapper delgado alrededor del objeto función para el método. Sin embargo, este envoltorio implícitamente almacena la instancia original que fue usada para obtener el método. Así, una sentencia futura como "s()" llamará al método implícitamente con la instancia "a" como el primer argumento.</p>
<p>En realidad el mismo objeto interno es usado para representar los bound y unbound methods. Uno de los atributos de este objeto contiene una referencia a una instancia. Si es None, el método es unbound. De otro modo, el método es bound.</p>
<p>A pesar de que bound y unbound methods parezcan un detalle sin importancia, son una parte crítica de como las clases funcionan bajo el tapete. Siempre que una sentencia como "a.spam()" aparece en un programa, la ejecución de la sentencia ocurre en dos partes. Primero ocurre la búsqueda de "a.spam". Esto retorna un bound method; un objeto invocable. Luego, una operación de llamado de función "()" es aplicada a ese objeto para invocar el método con los argumentos provistos por el usuario.</p>
<p>(*) En Python 3000, el concepto de unbound methods se eliminó y la expresión "A.spam" retorna un objeto función normal. Nos dimos cuenta de que la restricción de que el primer argumento sea una instancia de A ayudaba pocas veces al diagnosticar problemas y frecuentemente era un obstáculo para usos avanzados; alguien lo llamó "duck typing self", el cual parece un nombre apropiado.</p>
<p><em>Traducido por Juan José Conti.</em></p>
<p>Revisado por César Portela.</p>
<p>Si encontrás errores en esta traducción, por favor reportalos en un comentario y los corregiremos a la brevedad.</p>
<p>Todas las traducciones de esta serie pueden encontrarse en <a href="categoria/aprendiendo-python/historia/" target="_self">La historia de Python</a>.</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/20/tortitas-negras.html" class="u-url">Tortitas negras</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/20/tortitas-negras.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-20T12:00:14+00:00" title="2009-04-20 12:00">2009-04-20 12:00</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/20/tortitas-negras.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/20/tortitas-negras.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>Como habíamos prometido, la receta de hoy es de Tortitas negras (y con esto se nos termina el paquete de levadura, por lo que cerramos la serie de recetas de panadería). Al igual que en la receta anterior, Marisú cocinó con una mano y con la otra sacaba fotos :D.</em>
<!--more-->

<p><strong>Ingredientes para la cobertura</strong></p>
<ul>

    <li> Fermento levadura fresca 50g</li>

    <li>Azúcar 1 cucharada</li>

    <li>Agua tibia 2 cucharadas</li>

    <li>Harina 2 cucharadas</li>

    <li>Para la masa:</li>

</ul>

<p><strong>Ingredientes para la masa</strong></p>
<ul>

    <li>Harina 0000 1 Kg</li>

    <li>Azúcar 80 g</li>

    <li>Agua o leche 450 g</li>

    <li>Sal 20 g</li>

    <li>Manteca 100 g</li>

    <li>Azúcar negra C/N</li>

</ul>

<p><strong>Preparación</strong></p>
<p>Formar el fermento. Agregar a la harina, la sal, el azúcar, la manteca, el fermento y la leche:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_163547.jpg"><img class="aligncenter size-medium wp-image-1472" title="17-04-09_163547" src="wp-content/uploads/2009/04/17-04-09_163547-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Formar una masa lisa. Dejar levar:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_170006.jpg"><img class="aligncenter size-medium wp-image-1473" title="17-04-09_170006" src="wp-content/uploads/2009/04/17-04-09_170006-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Desgasificar:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_170028.jpg"><img class="aligncenter size-medium wp-image-1474" title="17-04-09_170028" src="wp-content/uploads/2009/04/17-04-09_170028-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Estirar la masa con medio cm de espesor. Enmantecar y enharinar una placa:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_170050.jpg"><img class="aligncenter size-medium wp-image-1475" title="17-04-09_170050" src="wp-content/uploads/2009/04/17-04-09_170050-300x240.jpg" alt="" width="300" height="240"></a></p>
<p><a href="wp-content/uploads/2009/04/17-04-09_165954.jpg"><img class="aligncenter size-medium wp-image-1476" title="17-04-09_165954" src="wp-content/uploads/2009/04/17-04-09_165954-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Cortar círculos de 2 cm de diámetro. Pintar con agua y azúcar impalpable. Dejar levar:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_172659.jpg"><img class="aligncenter size-medium wp-image-1477" title="17-04-09_172659" src="wp-content/uploads/2009/04/17-04-09_172659-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Colocar azúcar negro por encima de cada tortita:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_173335.jpg"><img class="aligncenter size-medium wp-image-1478" title="17-04-09_173335" src="wp-content/uploads/2009/04/17-04-09_173335-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Hornear:</p>
<p><a href="wp-content/uploads/2009/04/17-04-09_185943.jpg"><img class="aligncenter size-medium wp-image-1479" title="17-04-09_185943" src="wp-content/uploads/2009/04/17-04-09_185943-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>¡Poner la pava para los mates y disfrutar!</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/20/la-historia-de-python-clases-definidas-por-los-usuarios.html" class="u-url">La historia de Python: Clases definidas por los usuarios</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/20/la-historia-de-python-clases-definidas-por-los-usuarios.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-20T09:00:48+00:00" title="2009-04-20 09:00">2009-04-20 09:00</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/20/la-historia-de-python-clases-definidas-por-los-usuarios.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/20/la-historia-de-python-clases-definidas-por-los-usuarios.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>El siguiente texto es una traducción del artículo Adding Support for User-defined Classes de Guido van Rossum publicado en <a href="http://python-history.blogspot.com/" target="_blank">http://python-history.blogspot.com/</a>.</em>
<!--more-->

<h3>﻿Añadir clases definidas por los usuarios</h3>

<p>Crease o no, las clases fueron un añadido tardío durante el primer año del desarrollo de Python, todavía en el CWI, aunque bastante antes de la primera versión pública. En cualquier caso, para entender como se añadieron las clases, ayuda saber un poco más sobre los detalles de implementación de Python.</p>
<p>Python está escrito en C en forma de un intérprete de código intermedio o pseudo-binario (bytecode), usando la clásica estructura de pila, junto con una colección de tipos primitivos, también implementados en C. La arquitectura subyacente usa "objetos", pero como C no soporta objetos directamente, se implementan usando estructuras de objetos y punteros a funciones. La máquina virtual Python define docenas de operaciones estándar que cada objeto debe o puede implementar (por ejemplo, <i>get_attribute</i>, <i>add</i> y <i>call</i>). </p>
<p>Un objeto se representa mediante una estructura estática que contiene una serie de punteros a funciones, uno para cada operación estándar. Estos punteros son inicializados normalmente con referencias a funciones estáticas. Pero algunas operaciones son opcionales y un objeto puede dejar esas entradas apuntando a <em>NULL</em> si decide no implementar la función. En este caso, la máquina virtual o bien genera un error en tiempo de ejecución o, en determinadas circunstancias, puede que proporcione una implementación por defecto de la operación. La estructura C contiene también varios campos de datos, uno de los cuales es una referencia a la lista de métodos adicionales que son únicos para ese tipo de datos, representada como una matriz de estructuras que constan de un texto (el nombre del método) y un puntero a una función (la implementación). El enfoque a la introspección de</p>
<p>Python deriva de esta habilidad de hacer que la propia estructura del tipo sea accesible en tiempo de ejecución, como cualquier otro objeto.  </p>
<p>Un aspecto importante de esta implementación es que está completamente centrada en el lenguaje C. De hecho, todas las operaciones y los métodos estándar están implementados por funciones en C. En un principio, el interprete de <em>bytecode</em> solo soportaba llamadas a funciones escritas en Python puro y funciones o métodos implementados en C. Creo que fue mi colega Siebren van der Zee el primero en sugerir que Python debería permitir definiciones de clases similares a las de C++, que permitieran al programador crear objetos propios.</p>
<p>Para poder implementar estos objetos de usuario, me ceñí al diseño más simple que pude imaginar: un esquema donde los objetos de usuario se representarían por nuevos objetos que almacenarían una referencia de clase que apuntaría a un "objeto clase" compartido por todas las instancias de la misma clase, y un diccionario, bautizado "diccionario de instancia", que contendría las variables particulares de cada instancia.</p>
<p>En esta implementación, el diccionario de la instancia contendría los valores de las variables de cada instancia, mientras que el objeto clase contendría la información que fuera compartida entre todas las instancias de la misma clase, especialmente, los métodos. Al implementar la clase objeto opté de nuevo por el diseño más sencillo posible; el conjunto de métodos de la clase se almacenaría en un diccionario, cuyas claves serían los nombres de los métodos, con lo que se creó el diccionario de la clase. Para implementar la herencia, los objetos clase almacenarían opcionalmente una referencia a los objetos clase correspondientes a las clases base. En esa época era bastante ingenuo en lo que se refería a las clases, pero sabía que existía la herencia múltiple, que C++ había incorporado recientemente. Decidí que si iba a implementar la herencia, bien podría implementar una versión simplificada de la herencia múltiple, de forma que una clase pudiera derivar de más de una clase base.</p>
<p>En esta implementación, los mecanismos subyacentes que gestionaban los objetos eran en realidad muy simples. Cualquier cambio hecho a las variables, ya sea de clase o de instancia, se verían reflejados en el objeto diccionario respectivo.</p>
<p>Por ejemplo, asignar un valor a una variable de una instancia actualizaría su diccionario local. De igual forma, cuando buscáramos el valor de una variable de instancia de un objeto, simplemente miramos en el diccionario subyacente. Si la variable no se encuentra allí, las cosas se ponen un poco más interesantes. En ese caso, las búsquedas deben realizarse en el diccionario asociado a la clase, y si tampoco se encontrara allí, en los diccionarios de cada clase de la que derive.</p>
<p>Es más habitual ver este mecanismo de búsqueda de atributos en la clase del objeto, así como en sus clases antecesoras, en el caso de la búsqueda de métodos. Como se ha mencionado anteriormente, los métodos se almacenan en el diccionario de la clase, por lo que son compartidos por todas las instancias de objetos pertenecientes a dicha clase. Así, cuando se invoca un método, lo normal es que no lo encuentres en el diccionario local del objeto. En vez de eso, se busca el método en la clase del objeto, y de no encontrarse, su busca sistemáticamente por todas las clases de las que deriva hasta encontrarlo. Cada una de las clases básicas implementa el mismo algoritmo recursivo. Esto se conoce habitualmente como la regla de primero en profundidad, luego de derecha a izquierda, y ha sido el método de ordenación y selección de métodos (MRO - <em>Method Resolution Order</em>) usado por Python en la mayoría de sus versiones.</p>
<p>Las versiones más modernas han adoptado un MRO más sofisticado, que se discutirá en un futuro artículo de esta serie.</p>
<p>Al implementar las clases, uno de mis objetivos fue mantener las cosas sencillas. Así, Python no realiza comprobaciones de errores ni comprueba inconsistencias a la hora de localizar métodos. Por ejemplo, si una clase sobreescribe un método definido en una clase antecesora, no se realiza ninguna comprobación para verificar que el método redefinido tenga el mismo número de argumentos, ni que puede ser llamada de la misma manera que el método original. El algoritmo de resolución y localización de métodos se limita a devolver el primer método que encuentre, y lo ejecuta con cualesquiera argumentos que haya indicado el usuario.</p>
<p>A partir de este diseño emergieron otras características. Por ejemplo, aunque el diccionario de clase se pensó inicialmente como un repositorio de métodos, no existía ninguna razón que le impidiera contener también otros tipos de objetos.</p>
<p>Así, objetos como números enteros o cadenas de texto podían ser almacenados en el diccionario de la clase, lo que los convertía a todos los efectos en variables de clase; variables que son compartidas por todas las instancias de una determinada clase, en vez de estar almacenadas localmente.</p>
<p>Aunque la implementación era sencilla, también proporcionaba un alto grado de flexibilidad. Por ejemplo, la implementación hacía que las propias clases fueran objetos, en pie de igualdad con cualquier otro objeto (objetos de primera clase, o <em>first-class objects</em>, como se les suele describir en la documentación), lo que significaba que podían ser inspeccionadas de forma introspectiva en tiempo de ejecución, e incluso ser modificadas inámicamente. Se podían añadir o modificar métodos simplemente actualizando el diccionario de la clase, una vez que la clase hubiera sido creada (*). La naturaleza dinámica de Python significaba que esos cambios tendrían un efecto inmediato en todas las instancias de esa clase o de sus clases derivadas. De igual manera, se podía modificar dinámicamente objetos individuales añadiendo, modificando o borrando variables de instancia (una característica que, como comprendí posteriormente, hacía que la implementación de clases y objetos de Python fuera más permisiva que la de Smalltalk, que restringía el conjunto de atributos a aquellos especificados en el momento de la creación).</p>
<h4>Desarrollo de la sintaxis de clases</h4>

<p>Habiendo diseñado las representaciones en tiempo de ejecución para las clases definidas por el usuario, mi siguiente tarea era diseñar la sintaxis para las definiciones de clases, y en particular, para las definiciones de métodos dentro de la clase. Había una restricción fuerte y era que yo no quería que la sintaxis para definir métodos fuera distinta de la sintaxis para definir funciones.</p>
<p>Reconstruir la gramática y el generador de <em>bytecode</em> para manejar estos dos casos tan similares de forma diferente fue una tarea ardua. Aun así, aunque conseguí mantener la gramática igual, aún tenía que encontrar la manera de tratar con las variables de instancia. Inicialmente había esperado emular las variables de instancia implícitas que podemos ver, por ejemplo, en C++. En ese lenguaje, las clases se definen con un código como el siguiente:</p>
<pre lang="cpp">

    class A {

    public:

       int x;

       void spam(int y) {

            printf("%d %d\n", x, y);

       }

    };

</pre>

<p>En esta clase se ha declarado la variable de instancia <i>x</i>. En los métodos, las referencias a <i>x</i> se refieren implícitamente a la variable de instancia.</p>
<p>Por ejemplo, en el método <i>spam()</i>, no se declara la variable <i>x</i> ni como parámetro, ni como variable local, pero como la clase ha declarado una variable de instancia del mismo nombre, se asume que las referencias a <i>x</i> se refieren a dicha variable. Aunque deseaba proporcionar a Python algo similar, pronto me di cuenta de que esta aproximación sería imposible, ya que, en un lenguaje que carece de declaración de variables, no habría una manera elegante de distinguir las variables de instancia de las variables locales.</p>
<p>En teoría, obtener el valor de las variables de instancia debería ser bastante fácil. Python ya disponía de un orden de búsqueda predefinido para nombres de variables no cualificados: locales, globales e internas (<em>built-ins</em>).</p>
<p>Cada una de estas áreas estaba representada por un diccionario que mapeaba los nombres de las variables con sus valores. Cada referencia a una variable se convertía, así, en una serie de búsquedas en diccionarios que concluía cuando se encontrada el nombre de la variable. Por ejemplo, durante la ejecución de una función con una variable local <i>p</i> y una variable global <i>q</i>, en una sentencia como, por ejemplo, <i>print p, q</i> buscaría <i>p</i> en el primer diccionario, el de las variables locales, y lo encontraría. Luego buscaría <i>q</i> en ese mismo diccionario y no lo encontraría, por lo que continuaría la búsqueda por el segundo diccionario, el de las variables globales, hasta encontrarlo.</p>
<p>Habría sido muy fácil añadir el diccionario de instancia del objeto actual al principio de esta lista de diccionarios a la hora de ejecutar un método. De esa forma, en un método de un objeto con una variable de instancia <i>x</i> y una variable local <i>y</i>, una sentencia como <i>print x,y</i> encontraría <i>x</i> en el diccionario de la instancia (el primer diccionario según la nueva ordenación), e <i>y</i> en el diccionario de variables locales (el segundo</p>
<p>diccionario).</p>
<p>El problema con esta estrategia es que fracasa al intentar declarar los valores de las variables de instancia. La asignación en Python no busca el nombre de la variable en los diccionarios, sino que se limita a añadir o reemplazar la variable en el primer diccionario de la lista, normalmente el de variables locales. Esto provoca que las variables siempre se creen en el ámbito local, si no se especifica nada (aunque hay que hacer notar que existe una “declaración global" que invalida este comportamiento para una variable dentro de una función).</p>
<p>Si no cambiamos esta aproximación minimalista a la asignación, el que el diccionario de la instancia fuera el primero en la lista de búsqueda haría </p>
<p>imposible asignar valores a las variables locales dentro de un método. Porejemplo, si tuviéramos un método así:</p>
<pre>

    def spam(y):

        x = 1       

        y = 2       

</pre>

<p>Las asignaciones a <i>x</i> e <i>y</i> sobreescribirían el valor de la variable de instacia <i>x</i> y crearían una nueva variable de instancia <i>y</i>, que impediría acceder al valor de la variable local <i>y</i>. Cambiar el orden de los diccionarios (pasar el de instacia al segundo lugar y que el diccionario </p>
<p>local se convirtiera en el primero) simplemente la daría la vuelta al problema, haciendo imposible realizar asignaciones a variables de instancia.</p>
<p>Tampoco funcionaría cambiar la semántica de las asignaciones para usar una variable de instancia, si existe alguna, o usar una variable local en caso contrario, porque esto nos crearía un problema de auto-referencias: ¿cómo crearíamos una variable de instancia, en primer lugar? Una posible solución  podría ser obligar a declarar explícitamente las variables de instancia, de forma similar a la usada para declarar variables globales, pero no quería añadir una característica como esta, habiendo llegado tan lejos como había llegado sin requerir ninguna declaración de variables. Además, la especificación extra para indicar una variable global era un caso especial que apenas se usaba en la mayoría del código. La declaración explícita de variables de instancia, por otro lado, tendría que ser usada en prácticamente cualquier definición de clase. Otra posible solución era distinguir lexicamente las variables de instancia. Por ejemplo, usando un símbolo especial como el caracter @ (una aproximación tomada por ruby) o usando alguna convención de nombres que implicara prefijos o un uso particular de mayúsculas y minúsculas. Ninguna de estas opciones me agradaba (y sigue sin hacerlo).</p>
<p>En vez de esto, decidí abandonar la idea de referencias implícitas a las variables de instancia. Los lenguajes como C++ permiten escribir cosas como <i>this-&gt;foo</i>, para señalar explícitamente que la variable <i>foo</i> es de instancia, distinguiéndola así de una posible variable local <i>foo</i>. Decidí,</p>
<p>por tanto, hacer que la única manera de acceder a las variables de instancia fueran estas referencias explícitas. Además, tomé la decisión de que <i>this</i>, la variable que representaba al objeto actual, no fuera una palabra clave, simplemente haría que <i>this</i> (o su equivalente) fuera un primer argumento de cada método. Las variables de instancia sería siempre atributos de ese argumento.</p>
<p>Usando referencias explícitas, no había ninguna necesidad de tener una sintaxis especial para la definición de métodos, ni tenía uno que complicarse con semánticas adicionales para la búsqueda de variables. En vez de eso, simplemente se definía una función, sabiendo que el primer argumento correspondería con el objeto instanciado. Por convención, se suele dar a este primer argumento el nombre de <i>self</i>. Por ejemplo:</p>
<pre>

    def spam(self,y):

        print self.x, y

</pre>

<p>Esta aproximación recuerda algo a Modula-3, que ya me había proporcionado la sintaxis para las importaciones y para el manejo de excepciones. Modula-3 no tenía clases, pero permitía definir tipos estructurados que podían contener punteros a funciones, que eran inicializadas por defecto con funciones definidas previamente y añadía azúcar sintáctico para que, si <i>x</i> era una estructura de ese tipo y <i>m</i> un puntero a una función almacenada en dicho registro, inicializado a una función <i>f</i>, entonces llamar a <i>x.m(args)</i> equivalía a llamar a <i>f(x, args)</i>. Esto se ajusta a la implementación de objetos y métodos, y hace posible equiparar las variables de instancia con atributos del primer argumento.</p>
<p>El resto de los detalles de la sintaxis de Python para clases se derivan de este diseño o de las demás restricciones impuestas por la implementación. Siguiendo con mis aspiraciones de sencillez, imaginaba la sentencia <i>class</i> como una serie de definiciones de métodos, que son sintácticamente iguales a las definiciones de funciones, aun cuando se estableciera por convención que todas deberían tener un primer argumento llamado <i>self</i>. Además, en vez de desarrollar una nueva sintaxis para los métodos especiales (como los constructores y los destructores), tomé la decisión de que estos casos se resolverían obligando al usuario a utilizar nombres especiales, como <i><strong>init</strong></i>, <i><strong>del</strong></i> y demás. Esta convención de nombres se tomó del lenguaje C, en el que los identificadores que empezaban con el caracter guión bajo estaban reservados para el compilador y tenían, a menudo, significados especiales (por ejemplo, macros como <strong>FILE</strong> en el preprocesador de C).</p>
<p>Así, la visión que tenía del código para definir una clase era esta:</p>
<pre>

    class A:

         def __init__(self,x):

             self.x = x

         def spam(self,y):

            print self.x, y

</pre>

<pre class="code literal-block">
</pre>


<p>También quería seguir reutilizando la máxima cantidad posible de código.</p>
<p>Normalmente, una definición de una función es una sentencia ejecutable que, simplemente, realiza una asignación; asigna a una variable, en el espacio de nombres local, el objeto función (el nombre de la variable será, por tanto, el nombre de la función). Se me ocurrió que, en vez de inventar una solución distinta, era razonable hacer la misma interpretación para las definiciones de métodos dentro del cuerpo de la clase, simplemente usando como espacio de</p>
<p>nombres un nuevo diccionario. Este nuevo diccionario sería entonces tratado y usado para inicializar el diccionario de la clase, creando de esa forma una nueva clase. Detrás de escena, la estrategia que se implementó fue convertir el cuerpo de la clase en una función anónima, que ejecutaba todas las sentencias de definición de métodos que encontrara en el cuerpo de la clase, y que terminaba devolviendo un diccionario con todas las variables/métodos definidas. Este diccionario se pasaba a una función auxiliar, que creaba la clase en sí. Finalmente, el objeto que definía la propia clase se almacenaba en una variable en el entorno local, siendo su nombre el mismo que el de la clase. </p>
<p>Los usuarios de Python a menudo se sorprenden al comprender que cualquier sentencia válida de Python puede aparecer en el cuerpo de una clase. Esta característica era en realidad una extensión de mi deseo de mantener la sintaxis lo más limpia posible, a la vez que trataba de no limitar artificialmente aquellas cosas que pudieran resultar útiles.</p>
<p>Un detalle final acerca de la sintaxis usada para instanciar objetos de una clase. Otros lenguajes, como C++ o Java, usan para crear objetos un operador</p>
<p>especial, <i>new</i>. En C++ esta opción es defendible, porque los nombres de las clases tienen un estatus especial para el analizador, pero en Python eso no era así. Como el analizador de Python no se preocupa en absoluto por el tipo de objeto que esta llamando, hacer que la propia clase fuera ejecutable era la solución correcta, "mínima" en el sentido de que no requería una nueva sintaxis.</p>
<p>Creo que me adelanté un poco a los tiempos aquí; a día de hoy, el “patrón de diseño Factory” es a menudo el sistema más empleado para la creación de instancias y lo que yo hice fue simplemente convertir cada clase en su propia fábrica (Factory).</p>
<h4>Métodos especiales</h4>

<p>Como decía en la última sección, uno de los objetivos que perseguía era que la implementación de las clases fuera sencilla. En los demás lenguajes orientados a objetos, normalmente existe una diversidad de métodos y operadores especiales que sólo se aplican a las clases. Por ejemplo, en C++, hay una sintaxis especial para definir constructores y destructores, diferente de la usada para definir funciones o métodos normales.</p>
<p>En realidad, no quería introducir una nueva sintaxis para manejar las operaciones especiales con los objetos. Así que me las arreglé para mapear los</p>
<p>operadores específicos con un conjunto de nombres especiales de métodos, como <i><strong>init</strong></i> y <i><strong>del</strong></i>. Los usuarios podrían definir su propio código asociado a la creación y destrucción de objetos, simplemente definiendo métodos con estos nombres especiales.</p>
<p>Usé la misma técnica para permitir a los usuarios redefinir el comportamiento de los operadores de Python. Como ya se ha dicho, Python está escrito en C y usa tablas que contienen punteros a funciones para implementar diferentes capacidades de los objetos internos (por ejemplo, <i>get attribute</i>, <i>add</i> y <i>call</i>). Para permitir que el usuario pudiera definir estas mismas  capacidades en sus clases, mapeé los punteros a diferentes funciones con nombres especiales como <i><strong>getattr</strong></i>, <i><strong>add</strong></i> y <i><strong>call</strong></i>. </p>
<p>Existe una correspondencia directa entre estos nombres y las tablas de punteros de funciones que uno tiene que definir cuando se implemente un nuevo tipo de objeto en C.</p>
<p>(*) Eventualmente, el nuevo estilo de clases hace que sea necesario controlar los cambios en el <strong>dict</strong> de la clase; aún se puede modificar dinámicamente las clases, pero se debe utilizar asignación de atributos en lugar de la  variable <strong>dict</strong> directamente.</p>
<p><em>Traducido por Juan I. Rodriguez.</em></p>
<p>Revisado por Juan José Conti y César Portela.</p>
<p>Si encontrás errores en esta traducción, por favor reportalos en un comentario y los corregiremos a la brevedad.</p>
<p>Todas las traducciones de esta serie pueden encontrarse en <a href="categoria/aprendiendo-python/historia/" target="_self">La historia de Python</a>.</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/19/pan-lactal.html" class="u-url">Pan lactal</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/19/pan-lactal.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-19T07:30:52+00:00" title="2009-04-19 07:30">2009-04-19 07:30</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/19/pan-lactal.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/19/pan-lactal.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>Después de la Rosca de pascua, les presentamos más recetas de pradería. La razón es que compramos levadura en cantidad y para no tirarla preparamos recetas que uno generalmente no hace. Hoy: Pan lactal. Las fotos con las que ilustramos la preparación fueron tomadas por mi hermana con su celular mientras cocinaba (doble mérito!!).</em>
<!--more-->

<p><strong>Ingredientes</strong></p>
<ul>

    <li>Levadura fresca 30g</li>

    <li>Azúcar 1 cucharada</li>

    <li>Leche 150cc</li>

    <li>Harina 0000 350g</li>

    <li>Sal una pizca</li>

    <li>Manteca 30g</li>

</ul>

<p><strong>Preparación</strong></p>
<p>Primero formar el fermento.  Incorporar a la harina en forma de corona la sal, la manteca pomada, el fermento y la leche:</p>
<p><a href="wp-content/uploads/2009/04/16-04-09_162900.jpg"><img class="aligncenter size-medium wp-image-1459" title="16-04-09_162900" src="wp-content/uploads/2009/04/16-04-09_162900-300x240.jpg" alt="" width="300" height="240"></a></p>
<p><a href="wp-content/uploads/2009/04/16-04-09_165032.jpg"><img class="aligncenter size-medium wp-image-1460" title="16-04-09_165032" src="wp-content/uploads/2009/04/16-04-09_165032-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Formar una masa homogénea y lisa. Dejar levar el doble. Desgasificar. Estirar un rectángulo del largo del molde (tipo budín ingles):</p>
<p><a href="wp-content/uploads/2009/04/16-04-09_163402.jpg"><img class="aligncenter size-medium wp-image-1461" title="16-04-09_163402" src="wp-content/uploads/2009/04/16-04-09_163402-300x240.jpg" alt="" width="300" height="240"></a></p>
<p><a href="wp-content/uploads/2009/04/16-04-09_172646.jpg"><img class="aligncenter size-medium wp-image-1462" title="16-04-09_172646" src="wp-content/uploads/2009/04/16-04-09_172646-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>Enrrollar la masa y colocar en molde enmantecado y enharinado. Dejar levar. Pintar con huevo batido:</p>
<p><a href="wp-content/uploads/2009/04/16-04-09_174643.jpg"><img class="aligncenter size-medium wp-image-1463" title="16-04-09_174643" src="wp-content/uploads/2009/04/16-04-09_174643-300x240.jpg" alt="" width="300" height="240"></a>Finalmente, hornear:</p>
<p><a href="wp-content/uploads/2009/04/16-04-09_182520.jpg"><img class="aligncenter size-medium wp-image-1464" title="16-04-09_182520" src="wp-content/uploads/2009/04/16-04-09_182520-300x240.jpg" alt="" width="300" height="240"></a>Excelente para el desayuno!</p>
<p><a href="wp-content/uploads/2009/04/16-04-09_210648.jpg"><img class="aligncenter size-medium wp-image-1465" title="16-04-09_210648" src="wp-content/uploads/2009/04/16-04-09_210648-300x240.jpg" alt="" width="300" height="240"></a></p>
<p>En la próxima <a href="http://www.juanjoconti.com.ar/categoria/recetas/" target="_self">receta</a>, otra idea para aprovechar la levadura: Tortitas negras.</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/17/guerra-y-ta-te-ti.html" class="u-url">Guerra y TA-TE-TI</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/17/guerra-y-ta-te-ti.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-17T21:01:28+00:00" title="2009-04-17 21:01">2009-04-17 21:01</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/17/guerra-y-ta-te-ti.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/17/guerra-y-ta-te-ti.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>Hoy miramos WarGames, de 1983. Muy buena.</p>
<p></p>
<blockquote>[<em class="fine">after playing out all possible outcomes for Global Thermonuclear War</em>]
<p><strong>Joshua: </strong>Greetings, Professor Falken.</p>
<p><strong>Stephen Falken:</strong> Hello, Joshua.</p>
<p><strong>Joshua:</strong> A strange game. The only winning move is not to play. How about a nice game of chess?</p>
</blockquote>
<p><img class="aligncenter size-full wp-image-1454" title="wargames_view_at_norad" src="wp-content/uploads/2009/04/wargames_view_at_norad.png" alt="" width="500" height="246"></p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/12/rosca-de-pascua.html" class="u-url">Rosca de Pascua</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/12/rosca-de-pascua.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-12T20:20:38+00:00" title="2009-04-12 20:20">2009-04-12 20:20</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/12/rosca-de-pascua.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/12/rosca-de-pascua.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>Hoy celebramos la Pascua Cristiana. Un<a href="http://es.wikipedia.org/wiki/Gastronom%C3%ADa_de_Semana_Santa#Argentina" target="_blank"> postre típico de esta época</a> es la Rosca de Pascua. Para ajasajear a nuestros familiares con algo diferente, decidimos hacer nosotros mismos este postre. A continuación un listado de ingredientes necesarios y los pasos necesarios para su preparación y fotografías ilustrativas.
<p></p></em>
<!--more-->

<h3>Ingredientes</h3>

<h4>Fermento</h4>

<ul>

    <li>30 g de levadura fresca</li>

    <li>1 cucharada de azúcar</li>

    <li>2 cucharadas de harina</li>

    <li>60 cc de leche tibia</li>

</ul>

<h4>Masa</h4>

<ul>

    <li>1/2 kilo de harina 0000</li>

    <li>1 cucharadita de sal</li>

    <li>100 g de azúcar</li>

    <li>1 cucharada de ralladura de limón y naranja</li>

    <li>2 huevos</li>

    <li>1 cucharada de miel</li>

    <li>1 cucharadita de esencia de vainilla</li>

    <li>90 g de mantec pomada</li>

    <li>leche tibia C/N</li>

</ul>

<h4>Crema pastelera</h4>

<ul>

    <li>250 cc de leche</li>

    <li>1 huevo</li>

    <li>80 g de taza de azúcar</li>

    <li>30 g de harina</li>

    <li>1 cucharadita de esencia de vainilla</li>

    <li>Cerezas en almíbar C/N</li>

</ul>

<h4>Glasé</h4>

<ul>

    <li>Jugo de limón (una parte)</li>

    <li>Azúcar impalpable (9 partes)</li>

</ul>

<h3>Preparación</h3>

<p><a href="wp-content/uploads/2009/04/imagen276.jpg"><img class="aligncenter size-medium wp-image-1417" title="imagen276" src="wp-content/uploads/2009/04/imagen276-225x300.jpg" alt="" width="225" height="300"></a></p>
<h4>Fermento</h4>

<p>Poner en un bol la levadura con la leche tibia y el azúcar. La leche no debe estar muy caliente por que puede matar a la levadura. Disolver bien y agregar la harina, tapar el recipiente y dejar que leve.</p>
<p><a href="wp-content/uploads/2009/04/imagen278.jpg"><img class="aligncenter size-medium wp-image-1418" title="imagen278" src="wp-content/uploads/2009/04/imagen278-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen279.jpg"><img class="aligncenter size-medium wp-image-1419" title="imagen279" src="wp-content/uploads/2009/04/imagen279-225x300.jpg" alt="" width="225" height="300"></a></p>
<h4>Masa</h4>

<p>Poner en un bol los huevos, el azúcar, la ralladura, la miel, la vainilla, la manteca y leche tibia. Mezclar bien.</p>
<p><a href="wp-content/uploads/2009/04/imagen286.jpg"><img class="aligncenter size-medium wp-image-1421" title="imagen286" src="wp-content/uploads/2009/04/imagen286-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen282.jpg"><img class="aligncenter size-medium wp-image-1420" title="imagen282" src="wp-content/uploads/2009/04/imagen282-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen287.jpg"><img class="aligncenter size-medium wp-image-1422" title="imagen287" src="wp-content/uploads/2009/04/imagen287-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen289.jpg"><img class="aligncenter size-medium wp-image-1423" title="imagen289" src="wp-content/uploads/2009/04/imagen289-225x300.jpg" alt="" width="225" height="300"></a></p>
<p>En otro recipiento más amplio, poner la harina en forma de corona previamente cernida con la sal en el borde más externo (para que cuando se agregue la levadura no entre en contacto directo con la sal), hacer un hueco y volcar la primera preparación en el centro junto con la levadura ya levada.</p>
<p><a href="wp-content/uploads/2009/04/imagen293.jpg"><img class="aligncenter size-medium wp-image-1424" title="imagen293" src="wp-content/uploads/2009/04/imagen293-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen294.jpg"><img class="aligncenter size-medium wp-image-1425" title="imagen294" src="wp-content/uploads/2009/04/imagen294-225x300.jpg" alt="" width="225" height="300"></a></p>
<p>Ir incorporando la harina hasta formar una masa homogenea, agregándole más leche tibia si es necesario o de lo contraria un poco más de harina.</p>
<p><a href="wp-content/uploads/2009/04/imagen299.jpg"><img class="aligncenter size-medium wp-image-1426" title="imagen299" src="wp-content/uploads/2009/04/imagen299-225x300.jpg" alt="" width="225" height="300"></a></p>
<p>Amasarla bien hasta lograr una masa consistente y que no se pegue al recipiente. Hacer un bollo y tapar con un paño (también puede ser una bolsa de plástico) y dejar descansar hasta que esté bien levada.</p>
<p><a href="wp-content/uploads/2009/04/imagen303.jpg"><img class="aligncenter size-medium wp-image-1427" title="imagen303" src="wp-content/uploads/2009/04/imagen303-300x225.jpg" alt="" width="300" height="225"></a></p>
<h4>Crema pastelera</h4>

<p>Primero hervir la leche, luego poner en una cacerola chica el huevo y el azúcar, mezclar bien e incorporar la harina, mezclando nuevamente. Verter de a poco la leche caliente y continuar revolviendo.</p>
<p><a href="wp-content/uploads/2009/04/imagen319.jpg"><img class="aligncenter size-medium wp-image-1435" title="imagen319" src="wp-content/uploads/2009/04/imagen319-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen321.jpg"><img class="aligncenter size-medium wp-image-1436" title="imagen321" src="wp-content/uploads/2009/04/imagen321-225x300.jpg" alt="" width="225" height="300"></a></p>
<p>Llevar a fuego suave, hasta que la crema comience a espesar. Retirar y agregar la esencia de vainilla. Dejar enfriar, revolviendo cada tanto.</p>
<p><a href="wp-content/uploads/2009/04/imagen326.jpg"><img class="aligncenter size-medium wp-image-1437" title="imagen326" src="wp-content/uploads/2009/04/imagen326-300x225.jpg" alt="" width="300" height="225"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen334.jpg"><img class="aligncenter size-medium wp-image-1438" title="imagen334" src="wp-content/uploads/2009/04/imagen334-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen336.jpg"><img class="aligncenter size-medium wp-image-1439" title="imagen336" src="wp-content/uploads/2009/04/imagen336-225x300.jpg" alt="" width="225" height="300"></a></p>
<h4>De nuevo la masa</h4>

<p>Una vez levada la masa, ponerla en una mesada espolvoreada con harina, desgacificarla y comenzar a estirarla con el palote en forma rectangular, hasta que la masa quede fina (calcular el largo de la masa similar al diámetro de la placa en la que se horneará).</p>
<p><a href="wp-content/uploads/2009/04/imagen309.jpg"><img class="aligncenter size-medium wp-image-1429" title="imagen309" src="wp-content/uploads/2009/04/imagen309-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen313.jpg"><img class="aligncenter size-medium wp-image-1430" title="imagen313" src="wp-content/uploads/2009/04/imagen313-225x300.jpg" alt="" width="225" height="300"></a></p>
<p>Rellenar con una línea de dulce de leche y enrollar la masa.</p>
<p><a href="wp-content/uploads/2009/04/imagen314.jpg"><img class="aligncenter size-medium wp-image-1432" title="imagen314" src="wp-content/uploads/2009/04/imagen314-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen315.jpg"><img class="aligncenter size-medium wp-image-1433" title="imagen315" src="wp-content/uploads/2009/04/imagen315-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>Luego unir las puntas, formando la rosca. Poner sobre una placa enmantecada (se puede colocar un marcador metálico también enmantecado y enharinado en el centro para que la rosca no se cierre), tapar con un paño y dejar que doble su volumen.</p>
<p><a href="wp-content/uploads/2009/04/imagen316.jpg"><img class="aligncenter size-medium wp-image-1434" title="imagen316" src="wp-content/uploads/2009/04/imagen316-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>Una vez levado, decorar con la crema pastelera y las cerezas a gusto.</p>
<p><a href="wp-content/uploads/2009/04/imagen338.jpg"><img class="aligncenter size-medium wp-image-1440" title="imagen338" src="wp-content/uploads/2009/04/imagen338-300x225.jpg" alt="" width="300" height="225"></a></p>
<p><br></p>
<p><a href="wp-content/uploads/2009/04/imagen340.jpg"><img class="aligncenter size-medium wp-image-1441" title="imagen340" src="wp-content/uploads/2009/04/imagen340-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>Llevar al horno hasta que se dore y al introducir un palillo salga limpio (apróximadamente 40 minutos).</p>
<p><a href="wp-content/uploads/2009/04/imagen342.jpg"><img class="aligncenter size-medium wp-image-1443" title="imagen342" src="wp-content/uploads/2009/04/imagen342-300x225.jpg" alt="" width="300" height="225"></a></p>
<h4>Glasé</h4>

<p>Mezclar el jugo de limón con la azucar impalpable en una compotera hasta que la mezcla tome cuerpo y esté espesa. Utilizar el glasé para pintar la rosca ya horneada y fría. También se puede decorar con nueces.</p>
<p><a href="wp-content/uploads/2009/04/imagen347.jpg"><img class="aligncenter size-medium wp-image-1444" title="imagen347" src="wp-content/uploads/2009/04/imagen347-225x300.jpg" alt="" width="225" height="300"></a></p>
<p><strong>Felices Pascuas!</strong></p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/09/shell-python-administrativo-sobre-ssh-para-tu-servidor-twisted-en-10-lineas.html" class="u-url">Shell Python administrativo sobre SSH para tu servidor Twisted en 10 líneas</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/09/shell-python-administrativo-sobre-ssh-para-tu-servidor-twisted-en-10-lineas.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-09T03:30:10+00:00" title="2009-04-09 03:30">2009-04-09 03:30</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/09/shell-python-administrativo-sobre-ssh-para-tu-servidor-twisted-en-10-lineas.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/09/shell-python-administrativo-sobre-ssh-para-tu-servidor-twisted-en-10-lineas.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>entre tu reactor.listeTCP(puerto, factory) y reactor.run():</p>
<p></p>
<pre>from twisted.conch import manhole, manhole_ssh
<p>from twisted.cred import portal, checkers </p>
<p>def getManholeFactory(namespace, **passwords):</p>
<pre class="code literal-block">realm = manhole_ssh.TerminalRealm()

def getManhole(_): return manhole.Manhole(namespace)

realm.chainedProtocolFactory.protocolFactory = getManhole

p = portal.Portal(realm)

p.registerChecker(

checkers.InMemoryUsernamePasswordDatabaseDontUse(**passwords))

f = manhole_ssh.ConchFactory(p)

return f
</pre>


<p>reactor.listenTCP(2222, getManholeFactory(globals(), admin='aaa'))</p></pre>
<p>Los aplausos para <a href="http://www.devshed.com/c/a/Python/SSH-with-Twisted/3/" target="_blank">este tutorial</a>.</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/08/servidor-ssh-con-twisted.html" class="u-url">Servidor SSH con Twisted</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/08/servidor-ssh-con-twisted.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-08T19:54:35+00:00" title="2009-04-08 19:54">2009-04-08 19:54</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/08/servidor-ssh-con-twisted.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/08/servidor-ssh-con-twisted.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>Actualicé <a href="http://www.devshed.com/c/a/Python/SSH-with-Twisted/" target="_blank">este ejemplo</a>, tamibién incluido en el <a href="http://books.google.com/books?id=Fm5kw3lZ7zEC&amp;printsec=frontcover&amp;hl=es&amp;source=gbs_summary_r&amp;cad=0" target="_blank">libro de Twisted</a> para que no tire Deprecation Warnings:</p>
<!--more-->

<p></p>
<pre>from twisted.cred import portal, checkers, credentials
<p>from twisted.conch import error, avatar, recvline, interfaces as conchinterfaces</p>
<p>from twisted.conch.ssh import factory, userauth, connection, keys, session, common</p>
<p>from twisted.conch.insults import insults</p>
<p>from twisted.application import service, internet</p>
<p>from zope.interface import implements</p>
<p>import os</p>
<p>class SSHDemoProtocol(recvline.HistoricRecvLine):</p>
<pre class="code literal-block">def __init__(self, user):

    self.user = user



def connectionMade(self) :

    recvline.HistoricRecvLine.connectionMade(self)

    self.terminal.write("Welcome to my test SSH server.")

    self.terminal.nextLine()

    self.do_help()

    self.showPrompt()



def showPrompt(self):

    self.terminal.write("$ ")



def getCommandFunc(self, cmd):

    return getattr(self, 'do_' + cmd, None)



def lineReceived(self, line):

    line = line.strip()

    if line:

        cmdAndArgs = line.split()

        cmd = cmdAndArgs[0]

        args = cmdAndArgs[1:]

        func = self.getCommandFunc(cmd)

        if func:

           try:

               func(*args)

           except Exception, e:

               self.terminal.write("Error: %s" % e)

               self.terminal.nextLine()

        else:

           self.terminal.write("No such command.")

           self.terminal.nextLine()

    self.showPrompt()



def do_help(self, cmd=''):

    "Get help on a command. Usage: help command"

    if cmd:

        func = self.getCommandFunc(cmd)

        if func:

            self.terminal.write(func.__doc__)

            self.terminal.nextLine()

            return



    publicMethods = filter(

        lambda funcname: funcname.startswith('do_'), dir(self))

    commands = [cmd.replace('do_', '', 1) for cmd in publicMethods]

    self.terminal.write("Commands: " + " ".join(commands))

    self.terminal.nextLine()



def do_echo(self, *args):

    "Echo a string. Usage: echo my line of text"

    self.terminal.write(" ".join(args))

    self.terminal.nextLine()



def do_whoami(self):

    "Prints your user name. Usage: whoami"

    self.terminal.write(self.user.username)

    self.terminal.nextLine()



def do_quit(self):

    "Ends your session. Usage: quit"

    self.terminal.write("Thanks for playing!")

    self.terminal.nextLine()

    self.terminal.loseConnection()



def do_clear(self):

    "Clears the screen. Usage: clear"

    self.terminal.reset()
</pre>


<p>class SSHDemoAvatar(avatar.ConchUser):</p>
<pre class="code literal-block">implements(conchinterfaces.ISession)



def __init__(self, username):

    avatar.ConchUser.__init__(self)

    self.username = username

    self.channelLookup.update({'session':session.SSHSession})



def openShell(self, protocol):

    serverProtocol = insults.ServerProtocol(SSHDemoProtocol, self)

    serverProtocol.makeConnection(protocol)

    protocol.makeConnection(session.wrapProtocol(serverProtocol))



def getPty(self, terminal, windowSize, attrs):

    return None



def execCommand(self, protocol, cmd):

    raise NotImplementedError



def closed(self):

    pass
</pre>


<p>class SSHDemoRealm:</p>
<pre class="code literal-block">implements(portal.IRealm)



def requestAvatar(self, avatarId, mind, *interfaces):

    if conchinterfaces.IConchUser in interfaces:

        return interfaces[0], SSHDemoAvatar(avatarId), lambda: None

    else:

        raise Exception, "No supported interfaces found."
</pre>


<p>def getRSAKeys():</p>
<pre class="code literal-block"><span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">'public.key'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">'private.key'</span><span class="p">)):</span>

    <span class="c"># generate a RSA keypair</span>

    <span class="k">print</span> <span class="s">"Generating RSA keypair..."</span>

    <span class="kn">from</span> <span class="nn">Crypto.PublicKey</span> <span class="kn">import</span> <span class="n">RSA</span>

    <span class="n">KEY_LENGTH</span> <span class="o">=</span> <span class="mi">1024</span>

    <span class="n">rsaKey</span> <span class="o">=</span> <span class="n">RSA</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">KEY_LENGTH</span><span class="p">,</span> <span class="n">common</span><span class="o">.</span><span class="n">entropy</span><span class="o">.</span><span class="n">get_bytes</span><span class="p">)</span>

    <span class="n">publicKeyString</span> <span class="o">=</span> <span class="n">keys</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">rsaKey</span><span class="p">)</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>

    <span class="n">privateKeyString</span> <span class="o">=</span> <span class="n">keys</span><span class="o">.</span><span class="n">makePrivateKeyString</span><span class="p">(</span><span class="n">rsaKey</span><span class="p">)</span>

    <span class="c"># save keys for next time</span>

    <span class="nb">file</span><span class="p">(</span><span class="s">'public.key'</span><span class="p">,</span> <span class="s">'w+b'</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">publicKeyString</span><span class="p">)</span>

    <span class="nb">file</span><span class="p">(</span><span class="s">'private.key'</span><span class="p">,</span> <span class="s">'w+b'</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">privateKeyString</span><span class="p">)</span>

    <span class="k">print</span> <span class="s">"done."</span>

<span class="k">else</span><span class="p">:</span>

    <span class="n">publicKeyString</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="s">'public.key'</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">privateKeyString</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="s">'private.key'</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">return</span> <span class="n">publicKeyString</span><span class="p">,</span> <span class="n">privateKeyString</span>
</pre>


<p>if <strong>name</strong> == "<strong>main</strong>":</p>
<pre class="code literal-block">sshFactory = factory.SSHFactory()

sshFactory.portal = portal.Portal(SSHDemoRealm())

users = {'admin': 'aaa', 'guest': 'bbb'}

sshFactory.portal.registerChecker(
</pre>


<p>checkers.InMemoryUsernamePasswordDatabaseDontUse(**users))</p>
<pre class="code literal-block"><span class="n">pubKeyString</span><span class="p">,</span> <span class="n">privKeyString</span> <span class="o">=</span> <span class="n">getRSAKeys</span><span class="p">()</span>

<span class="n">sshFactory</span><span class="o">.</span><span class="n">publicKeys</span> <span class="o">=</span> <span class="p">{</span>

    <span class="s">'ssh-rsa'</span><span class="p">:</span> <span class="n">keys</span><span class="o">.</span><span class="n">Key</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">pubKeyString</span><span class="p">)}</span>

<span class="n">sshFactory</span><span class="o">.</span><span class="n">privateKeys</span> <span class="o">=</span> <span class="p">{</span>

    <span class="s">'ssh-rsa'</span><span class="p">:</span> <span class="n">keys</span><span class="o">.</span><span class="n">Key</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">privKeyString</span><span class="p">)}</span>



<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span>

<span class="n">reactor</span><span class="o">.</span><span class="n">listenTCP</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">sshFactory</span><span class="p">)</span>

<span class="n">reactor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span><span class="o">&lt;/</span><span class="n">pre</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></pre>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/08/pan-de-salvado.html" class="u-url">Pan de salvado</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/08/pan-de-salvado.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-08T18:30:45+00:00" title="2009-04-08 18:30">2009-04-08 18:30</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/08/pan-de-salvado.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/08/pan-de-salvado.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<em>Hoy les acerco una receta para hacer pan de salvado casero. Tanto el texto como las fotos son de mi hermana Marisú.
<p></p></em>
<!--more-->

<h4>Ingredientes</h4>

<ul>

    <li>Harina Pureza con levadura: 1/2 Kg</li>

    <li>Harina integral: 1/2 Kg</li>

    <li>Agua tibia: 600 mml</li>

    <li>Grasa, manteca o aceite: 50 gm</li>

    <li>Sal: 20 gm</li>

</ul>

<h4>Preparación</h4>

<p>1- Poner todos los ingredientes, excepto el agua en un bol agregando la materia grasa al final.</p>
<p><a href="wp-content/uploads/2009/04/100_3789.jpg"><img class="size-medium wp-image-1372 aligncenter" title="100_3789" src="wp-content/uploads/2009/04/100_3789-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>2- Agregar el agua tibia de a poco y mezclar.</p>
<p><a href="wp-content/uploads/2009/04/100_3791.jpg"><img class="size-medium wp-image-1374 aligncenter" title="100_3791" src="wp-content/uploads/2009/04/100_3791-300x225.jpg" alt="" width="300" height="225"></a></p>
<p><a href="wp-content/uploads/2009/04/100_3792.jpg"><img class="aligncenter size-medium wp-image-1375" title="100_3792" src="wp-content/uploads/2009/04/100_3792-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>3- Amazar hasta que quede con textura lisa.</p>
<p><a href="wp-content/uploads/2009/04/100_3793.jpg"><img class="size-medium wp-image-1376 aligncenter" title="100_3793" src="wp-content/uploads/2009/04/100_3793-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>4- Dividir la masa en bollos, cubrirlos con papel film y dejarlos reposar 30 minutos.</p>
<p><a href="wp-content/uploads/2009/04/100_3794.jpg"><img class="aligncenter size-medium wp-image-1377" title="100_3794" src="wp-content/uploads/2009/04/100_3794-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>5- Desgasificar la masa y formar bollitos del tamaño deseado.</p>
<p><a href="wp-content/uploads/2009/04/100_3795.jpg"><img class="aligncenter size-medium wp-image-1378" title="100_3795" src="wp-content/uploads/2009/04/100_3795-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>6- Colocarlos en una placa formando varillas y con un objeto cortante hacer 2 cortes en la parte superior.</p>
<p><a href="wp-content/uploads/2009/04/100_3797.jpg"><img class="aligncenter size-medium wp-image-1380" title="100_3797" src="wp-content/uploads/2009/04/100_3797-300x225.jpg" alt="" width="300" height="225"></a></p>
<p>7- Tapar con papel film y dejar reposar 10 minutos.</p>
<p>8- Hornear hasta que queden dorados y al introducir un palillo salga limpio.</p>
<p><a href="wp-content/uploads/2009/04/100_3798.jpg"><img class="aligncenter size-medium wp-image-1381" title="100_3798" src="wp-content/uploads/2009/04/100_3798-300x225.jpg" alt="" width="300" height="225"></a></p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/04/06/manana-voto-electronico-en-santa-fe.html" class="u-url">Mañana: Voto electrónico en Santa Fe</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juanjo</span></p>
            <p class="dateline"><a href="posts/2009/04/06/manana-voto-electronico-en-santa-fe.html" rel="bookmark"><time class="published dt-published" datetime="2009-04-06T15:41:39+00:00" title="2009-04-06 15:41">2009-04-06 15:41</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/04/06/manana-voto-electronico-en-santa-fe.html#disqus_thread" data-disqus-identifier="cache/posts/2009/04/06/manana-voto-electronico-en-santa-fe.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<blockquote>El próximo martes <strong>7 de abril</strong>, desde las <strong>19:30</strong>, en ATE Central, San Luis 2854, tercer piso, Salón de Conferencias, realizaremos una charla abierta de presentación del libro <a href="http://www.vialibre.org.ar/wp-content/uploads/2009/03/evoto.pdf">"Voto Electrónico. Los riesgos de una ilusión"</a> en la Ciudad de Santa Fe de la Vera Cruz.  Del diálogo y debate participarán Beatriz Busaniche de Fundación Vía Libre y el periodista Juan Carlos Bettanin, de LT10 Radio Universidad Nacional del Litoral.  Durante la presentación entregaremos ejemplares del libro en forma gratuita a los asistentes.</blockquote>
<p style="text-align: right;">Fuente: <a href="http://www.vialibre.org.ar/2009/04/04/santa-fe-charla-abierta-sobre-voto-electronico/" target="_blank">Vía Libre</a>

<a href="wp-content/uploads/2009/04/evoto-cover.jpg"><img class="aligncenter size-medium wp-image-1391" title="evoto-cover" src="wp-content/uploads/2009/04/evoto-cover-300x153.jpg" alt="" width="300" height="153"></a>



</p>

<p style="text-align: left;"><strong>UPDATE:</strong> un <a href="wp-content/uploads/2009/04/charlavoto.pdf">panfleto de difusión</a></p>

<p></p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager">
        <ul class="pager">
            <li class="previous">
                <a href="index-29.html" rel="prev">Publicaciones posteriores</a>
            </li>
            <li class="next">
                <a href="index-27.html" rel="next">Publicaciones anteriores</a>
            </li>
        </ul>
        </nav>


        
       <script>var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>





        </div>
        <!--End of body content-->

        <footer>
            Contents © 2015         <a href="mailto:jjconti@gmail.com">Juanjo</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
    </div>
</div>


            <script src="assets/js/all-nocdn.js"></script>
        <script src="assets/js/colorbox-i18n/jquery.colorbox-es.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>$('a.image-reference:not(.islink)').colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    <!-- fancy dates -->
    <script>
    moment.locale("es");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script>
    <!-- end fancy dates -->
    


</body>
</html>
